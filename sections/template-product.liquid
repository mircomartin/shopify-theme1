<section class="container mx-auto my-0 md:my-14">
	<div class="grid grid-cols-1 md:grid-cols-2 gap-9">
		<div class="product--medias relative">
			<!--Labels-->
			<div class="absolute flex">
				{% for tag in product.tags %}
					{% if tag == 'sale' %}
					<span class="text-white bg-red-500 py-1 px-2.5 uppercase text-xs">SALE</span>
					{% endif %}
					{% if tag == 'new' %}
					<span class="text-white bg-black py-1 px-2.5 uppercase text-xs">NEW</span>
					{% endif %}
				{% endfor %}
			</div>

			<!--Desktop Gallery-->
			<div class="hidden md:flex md:flex-col md:gap-y-1">
				{% for media in product.media %}
					<div class="h-100 overflow-hidden">
						{% render 'product-media', media: media %}
					</div>
				{% endfor %}
			</div>
			<!--Mobile Gallery-->
			<div class="md:hidden mobile-gallery">
				<div class="responsive mobile">
					{% for media in product.media %}
					<div class="overflow-hidden">
						{% render 'product-media', media: media %}
					</div>
				{% endfor %}
				</div>
			</div>
		</div>
		<div class="product--information px-4 md:px-0">
			{% form 'product', product %}
			
				<div class="flex flex-col gap-y-6">
					<!--Add Checkbox-->
					<span>{{ product.vendor | upcase }}</span>
					<!--Add Checkbox-->

					<h1 class="text-2xl tracking-widest">{{ product.title | upcase }}</h1>

					<!--Add Checkbox + Custom MF -->
					<span class="text-xs font-bold text-blue-700 uppercase">
						{% assign min = 10 %}
						{% assign max = 25 %}
						{% assign diff = max | minus: min %}
						{% assign randomNumber = "now" | date: "%N" | modulo: diff | plus: min %}
						{{ randomNumber }} People have this in their cart right now!
					</span>
					<!--Add Checkbox-->

					<div class="flex gap-1.5">
						{% assign product_price = product.selected_or_first_available_variant %}
						<span class="text-xl">{{ product_price.price | money }}</span>
						{% if product_price.compare_at_price > 0 %}
						<span class="text-xl line-through text-stone-500">{{ product_price.compare_at_price | money }}</span>							
						{% endif %}
					</div>

					<!--Create Block Klarma with + CM -->
					<div>
						{% if product_price.compare_at_price > product_price.price %}
							{% assign product_price_klarma = product_price.compare_at_price %}
						{% else %}
							{% assign product_price_klarma = product_price.price %}
						{% endif %} 
						
						{% assign results = product_price_klarma | divided_by: 4 %}
						<span class="text-xs border border-slate-300 p-1">4 interest-free payments of {{ results | money }} with <strong>Klarna</strong>.</span>
					</div>
					<!--Create Block Klarma with product metafield-->

					<div class="flex flex-col">
						{% if product_price.compare_at_price > product_price.price %}
						<span class="text-cyan-400 uppercase">{{ product.compare_at_price | minus: product.price | times: 100 | divided_by: product.compare_at_price }}% SAVINGS</span>
						{% endif %}
						<!--Create Meta Boolean-->
						<span class="text-green-400	uppercase">sustainable</span>
						<!--Create Meta Boolean-->
					</div>

					<div>
						{% unless product.has_only_default_variant %}
						<div data-url="{{ product.url }}" data-section="{{ section.id }}">
							{% for option in product.options_with_values %}
								<label for="Option-{{ section.id }}-{{ forloop.index0 }}" class="text-sm">{{ option.name | upcase }}:</label>
								<div class="my-2">
									<select 
										name="options[{{ option.name | escape | upcase }}]" 
										id="Option-{{ section.id }}-{{ forloop.index0 }}"
										class="w-1/3 p-2.5">
										{% for value in option.values %}
											<option value="{{ value | escape }}" class="text-sm bg-stone-100">{{ value | upcase }}</option>
										{% endfor %}
									</select>
								</div>
							{% endfor %}
						</div>
						{% endunless %}
					</div>

				</div>

			{% endform %}
		</div>
	</div>
</section>

<style type="text/css">
	.product--medias .mobile-gallery .slick-dots {
		bottom: 0;
		text-align: left;
	}
	.product--medias .mobile-gallery .slick-dots li button:before {
		font-size: 16px;
    	line-height: 16px;
	}
</style>

<script>
$(document).ready(function () {
	$('.responsive.mobile').slick({
		dots: true,
		arrows: false,
		infinite: true,
		autoplay: false,
		speed: 600,
		slidesToShow: 1,
		slidesToScroll: 1
	});
});
</script>